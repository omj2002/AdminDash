import{a as G,b as R,c as f}from"./chunk-IPNDEF5U.js";import{b as y}from"./chunk-W5CM6BMS.js";import{a as J,b as K,c as tt,d as et}from"./chunk-VVK67SDJ.js";import{K as H,n as w}from"./chunk-7LI5U462.js";import{$d as j,Bb as g,Cc as b,Dd as x,Fd as p,Hd as I,Id as P,La as a,Ld as F,Nd as E,Ob as o,Od as O,Pb as C,Qd as L,Rd as k,Sd as B,Ta as d,Ud as N,Vd as D,Xd as A,Yd as T,Za as S,Zd as q,ae as V,cb as c,ce as W,fe as z,ie as Q,je as U,ke as X,le as Y,me as Z,ne as $,qb as s,rb as i,sb as e,tb as u,wc as v}from"./chunk-H7G55VRW.js";function ot(n,r){n&1&&(i(0,"mat-error"),o(1," Email is required "),e())}function nt(n,r){n&1&&(i(0,"mat-error"),o(1," Please enter a valid email "),e())}function rt(n,r){n&1&&(i(0,"mat-error"),o(1," Password is required "),e())}function at(n,r){n&1&&(i(0,"mat-error"),o(1," Password must be at least 6 characters "),e())}var it=class n{constructor(r,m,t,l){this.fb=r;this.router=m;this.store=t;this.snackBar=l;this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]]})}loginForm;hidePassword=!0;static ALLOWED_PASSWORD="admin123";ngOnInit(){}onSubmit(){if(this.loginForm.valid){let{email:r,password:m}=this.loginForm.value;if(m===n.ALLOWED_PASSWORD)try{let t={id:"admin",name:r?.split?.("@")?.[0]||"admin",email:r},l="fake-token-"+Date.now();localStorage.setItem("auth_user",JSON.stringify(t)),localStorage.setItem("auth_token",l),this.store.dispatch(G({email:r,password:m})),this.store.dispatch(R({user:t,token:l})),this.snackBar.open("Logged in successfully","Close",{duration:2e3}),this.router.navigate(["/dashboard"])}catch{this.store.dispatch(f({error:"Login failed"})),this.snackBar.open("Login failed. Please try again.","Close",{duration:3e3})}else this.store.dispatch(f({error:"Invalid password"})),this.snackBar.open("Invalid password","Close",{duration:3e3})}}togglePasswordVisibility(){this.hidePassword=!this.hidePassword}static \u0275fac=function(m){return new(m||n)(d(L),d(y),d(w),d(tt))};static \u0275cmp=S({type:n,selectors:[["app-login"]],decls:32,vars:8,consts:[[1,"login-container"],[1,"login-card"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","admin@example.com"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","placeholder","Enter password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"form-actions"],["mat-raised-button","","color","primary","type","submit",1,"login-button",3,"disabled"]],template:function(m,t){if(m&1&&(i(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),o(5,"Admin Login"),e(),i(6,"mat-card-subtitle"),o(7,"Sign in to your admin panel"),e()(),i(8,"mat-card-content")(9,"form",2),g("ngSubmit",function(){return t.onSubmit()}),i(10,"mat-form-field",3)(11,"mat-label"),o(12,"Email"),e(),u(13,"input",4),i(14,"mat-icon",5),o(15,"email"),e(),c(16,ot,2,0,"mat-error",6)(17,nt,2,0,"mat-error",6),e(),i(18,"mat-form-field",3)(19,"mat-label"),o(20,"Password"),e(),u(21,"input",7),i(22,"button",8),g("click",function(){return t.togglePasswordVisibility()}),i(23,"mat-icon"),o(24),e()(),c(25,rt,2,0,"mat-error",6)(26,at,2,0,"mat-error",6),e(),i(27,"div",9)(28,"button",10)(29,"mat-icon"),o(30,"login"),e(),o(31," Sign In "),e()()()()()()()),m&2){let l,h,_,M;a(9),s("formGroup",t.loginForm),a(7),s("ngIf",(l=t.loginForm.get("email"))==null?null:l.hasError("required")),a(),s("ngIf",(h=t.loginForm.get("email"))==null?null:h.hasError("email")),a(4),s("type",t.hidePassword?"password":"text"),a(3),C(t.hidePassword?"visibility_off":"visibility"),a(),s("ngIf",(_=t.loginForm.get("password"))==null?null:_.hasError("required")),a(),s("ngIf",(M=t.loginForm.get("password"))==null?null:M.hasError("minlength")),a(2),s("disabled",t.loginForm.invalid)}},dependencies:[b,v,k,F,x,I,P,B,E,O,$,Q,X,Z,Y,U,q,T,A,D,N,K,J,z,j,V,W,H,et],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.login-form[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{margin-top:24px}.form-actions[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{width:100%;height:48px;font-size:16px}.form-actions[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:16px}}"]})};export{it as LoginComponent};
